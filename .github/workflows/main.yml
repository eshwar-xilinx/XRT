name: Test Action

on:     
  pull_request:

jobs:
  main:
    runs-on: pr_pipeline
    steps:
    - name: fetching pr details
      run: |
         echo "$GITHUB_REF"
         PR_NUMBER=$(echo $GITHUB_REF | awk 'BEGIN { FS = "/" } ; { print $3 }')
         echo "$PR_NUMBER generated by GITHUB_REF env"
         echo "${{github.event.pull_request.number}} generated by github action event"
         rm -rf XRT
         git clone "https://github.com/eshwar-xilinx/XRT.git"
         cd XRT
         git fetch origin pull/${{github.event.pull_request.number}}/head:master1
         git checkout master1
         echo $USER
