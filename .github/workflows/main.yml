name: Test Action

on:     
  pull_request:

jobs:

    
  main:
#    needs: vm_creation
    runs-on: pr_pipeline
    steps:
    - name: Creating environmental variables
      run: |
         echo "$GITHUB_REF"
         PR_NUMBER=$(echo $GITHUB_REF | awk 'BEGIN { FS = "/" } ; { print $3 }')
         echo "$PR_NUMBER generated by GITHUB_REF env"
         echo "${{github.event.pull_request.number}} generated by github action event"
         
    - name: Changing to working directory
      run: |
          cd 
          echo "$(readlink -f .) is the current directory"
          
    - name: Removing pre-existed XRT folder if present
      run: |
          rm -rf XRT/
          echo "$(ls | grep -i XRT) are the files present"
          
    - name: Cloning XRT
      run: |
         git clone "https://github.com/eshwar-xilinx/XRT.git"
         
